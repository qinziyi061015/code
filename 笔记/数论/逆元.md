```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int mod,num;
int qp(int a,int b,int p){
	int ans=1,base=a;
	while(b>0ll){
		if(b&1ll){
			ans*=base;
			ans%=p;
		}
		base*=base;
		base%=p;
		b>>=1;
	}
	return ans;
}
int inv(int a,int p){
	return qp(a,p-2,p);
}


int pom(int a,int b,int p){
	int ans=1;
	for(;b;b>>=1,a=1ll*a*a%p){
		if(b&1) ans=1ll*ans*a%p;
	}
	return ans;
}

void exgcd(int a,int b,int &x,int &y){
	if(b==0ll){
		x=1ll,y=0ll;
		return;
	}
	exgcd(b,a%b,y,x);
	y-=a/b*x;
}
int inv2(int a,int p){
	int x,y;
	exgcd(a,p,x,y);
	return x;
}
signed main(){
	ios::sync_with_stdio(0);cin.tie(0);
	cin>>num>>mod;
	cout<<inv(num,mod)%mod<<'\n'<<pom(num,mod-2,mod)%mod<<'\n'<<inv2(num,mod)%mod;
	return 0;
}
//2 1000000007
```